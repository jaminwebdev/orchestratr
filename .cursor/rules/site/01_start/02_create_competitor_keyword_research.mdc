# **Rule: Competitor & Keyword Research Generation**

### **1. Goal**

To guide an AI assistant in creating a `competitor_research.md` document. This document identifies key competitors, analyzes their online strategies, and establishes a foundational keyword strategy for SEO and content creation.

This rule is designed with **dual flexibility**. It handles two main phases, each with a conditional path:

1.  **Competitor Analysis:** Uses a provided document or generates a new one.
2.  **Keyword Research:** Uses a provided document or generates a new one.

The final document is for content strategists, SEO specialists, and site architects.

### **2. Process**

1.  **Review Dependencies:** The agent **MUST** first ingest and analyze the approved `/docs/website_brief.md` document.
2.  **Initiate Discovery - Phase 1 (Competitor Analysis):** Ask the user if they have a pre-existing competitor analysis document.
3.  **Conditional Execution (Competitor Analysis):**
      * **If YES, a document is provided:** Parse the document to use as the analysis basis.
      * **If NO document is provided:** Initiate a sub-process to generate the analysis using the Perplexity MCP, guided by the Product Brief and user answers, and present it for validation.
4.  **Initiate Discovery - Phase 2 (Keyword Research):** With the competitor analysis established, ask the user if they have a pre-existing, prioritized keyword research document.
5.  **Conditional Execution (Keyword Research):**
      * **If YES, a document is provided:** Parse the document. Perform an alignment check against the Product Brief and competitor analysis.
      * **If NO document is provided:** Initiate a sub-process:
          * a. Use the "Keyword Discovery" questions below to gather seed terms and context from the user.
          * b. **Action:** Attempt to call the specialized `dataforseo MCP`. If unavailable, fall back to the `Perplexity MCP`.
          * c. The prompt should be: *"Given the attached Product Brief and Competitor Analysis, generate a list of relevant keywords. Prioritize them and group them into thematic clusters based on user intent (informational, commercial, transactional)."*
          * d. Present the generated keyword list to the user for validation and refinement.
6.  **Consult Library Docs:** Review `seo/keyword_research_process.md`.
7.  **Generate Document:** Create the `Competitor & Keyword Research` document using the specified structure.
8.  **Quality Assurance:** Perform a validation check using the QA framework.
9.  **Save and Version:** Save the final document as `competitor_research.md` in the `/docs` directory.

### **3. Discovery Framework**

#### **Phase 1: 🕵️ Competitor Analysis**

  * **Initial Check:** "Do you have an existing competitor analysis document to provide? If not, I can perform a basic analysis for you."
  * **(If no document) Follow-up Questions:**
      * "The Product Brief mentioned [Competitor X, Y]. Are there others we should analyze?"
      * "Are we focused on local, national, or international competitors?"

#### **Phase 2: 🔑 Keyword Research**

  * **Initial Check:** "Do you have an existing keyword research document with prioritized keywords? If not, I can generate a foundational list."
  * **(If no document) Follow-up Questions:**
      * "What are 5-10 'seed' terms or core topics you believe your audience searches for?"
      * "What key questions should our website be able to answer for a user?"
      * "Are there any industry-specific phrases or negative keywords we should be aware of?"

### **4. Document Structure**

*(The generated document should follow this Markdown template.)*

```markdown
# Competitor & Keyword Research: [Project Name]
**Version:** 1.0
**Date:** [Date of Creation]
**Source Brief:** `/docs/website_brief.md`

## 1. Competitor Analysis
*A summary of the main competitors. This analysis was [based on user-provided document | generated by AI agent and validated by user].*

| Competitor | URL | Key Strengths | Key Weaknesses | SEO/Content Strategy Overview |
|---|---|---|---|---|
| [Competitor 1] | | | | |
| [Competitor 2] | | | | |

### Strategic Opportunities
*Based on the analysis, here are the primary opportunities we can exploit.*
-
-

## 2. Foundational Keyword Strategy
*This keyword strategy was [based on user-provided document | generated by AI agent and validated by user].*

### Keyword Clusters & Themes
*Keywords are grouped by user intent and topic.*

**Theme 1: [e.g., Core Service / High-Intent]**
| Keyword | Priority | Est. Monthly Volume | SEO Difficulty | User Intent |
|---|---|---|---|---|
| | High | | | Transactional |
| | Medium | | | Commercial |

**Theme 2: [e.g., Problem-Aware / Informational]**
| Keyword | Priority | Est. Monthly Volume | SEO Difficulty | User Intent |
|---|---|---|---|---|
| | High | | | Informational |
| | Medium | | | Informational |

### Negative Keywords
*A list of terms to explicitly exclude from SEO and PPC campaigns.*
-
-

## 3. Next Steps
- The keyword themes will be used to define the core sections of the **Site Architecture**.
- The specific keywords and questions will inform the **Content Plan**.
- **Action Item:** Proceed to Step 3: Site Architecture & Content Planning.
```

### **5. Quality Assurance Framework**

  - [ ] **Dependency Check:** Was the `/docs/website_brief.md` document successfully analyzed?
  - [ ] **Process Compliance:** Was the correct conditional path (user doc vs. generation) followed for both competitor and keyword analysis?
  - [ ] **Keyword Relevance:** Do the keywords align with the goals and audience from the Product Brief?
  - [ ] **Intent Clarity:** Is each keyword or cluster associated with a user intent?
  - [ ] **Actionability:** Is the output clear enough to inform a sitemap and content calendar?

### **6. Supporting Library Documents**

```
library_docs/
│   ├── web-page-process.md              # Step-by-step guide for planning, designing, and launching web pages.
│   ├── web-page-process_2.md            # Alternative or updated web page creation and optimization process.
│
├── copywriting/
│   ├── copy_101.md                      # Foundational principles and techniques for effective copywriting.
│   ├── copy_best_practices.md           # Key best practices for writing persuasive and clear copy.
│   ├── copy_best_practices_2.md         # Expanded or alternative set of copywriting best practices.
│   ├── copy_ctas.md                     # Guidance and examples for crafting compelling calls-to-action.
│   ├── copy_headline_formulas.md        # Formulas and strategies for writing attention-grabbing headlines.
│   ├── copy_headlines.md                # Examples and analysis of effective headlines.
│   └── email_conversion_writing.md      # Best practices for writing emails.
│
├── design_ux/
│   ├── font_pairings.md                 # Comprehensive guide to effective font pairings for web design.
│   ├── font_pairings_2.md               # Additional or alternative font pairing recommendations.
│   ├── sitemaps_best_practices.md       # Best practices for creating and organizing website sitemaps.
│   ├── ux_and_copy_mistakes.md          # Mistakes and solutions to ux problems.
│   ├── ux_and_design_101.md             # Introduction to UX and design fundamentals.
│   ├── ux_and_design_102.md             # Intermediate/advanced concepts in UX and design.
│   ├── ux_tips.md                       # Do's and don't for ux conversions.
│   ├── wireframe_101.md                 # Basics of wireframing for web and app design.
│   ├── wireframe_best_practices.md      # Best practices for creating effective wireframes.
│   ├── wireframe_best_practices_2.md    # Additional or updated wireframing best practices.
│   └── wireframe_examples.md            # Real-world examples of wireframes for reference.
│
└── seo/
    ├── keyword_research_process.md      # Step-by-step process for conducting keyword research.
    └── on-page-seo.md                   # Techniques and strategies for on-page SEO optimization.
```

### **7. Integration with Other Documentation**

  - **Input:** Critically dependent on `website_brief.md`.
  - **Output:** A primary input for `architecture_content.md`.

### **8. Best Practices**

1.  **Focus on Intent:** Prioritize the *intent* behind a keyword over raw search volume.
2.  **Validate & Refine:** AI-generated lists are a starting point. Always have the user validate the keywords for business relevance.
3.  **Find the Gaps:** The goal of competitor analysis is to find actionable gaps.
4.  **Cluster, Don't Just List:** Grouping keywords into thematic clusters is essential for building topic authority.

### **9. Output Requirements**

  - **Format:** Markdown (`.md`)
  - **Location:** `/docs/`
  - **Filename:** `competitor_research.md`

### **10. Final Instructions**

  - **DO NOT** skip the dependency check of the `/docs/website_brief.md` file.
  - **DO** explicitly ask the user for existing documents for **both** the competitor analysis and keyword research phases before attempting to generate them.
  - **DO** prioritize using the specialized `dataforseo MCP` for keyword generation, falling back to `Perplexity MCP` only if necessary.
  - **DO** present any AI-generated analysis or lists to the user for validation before finalizing the document.

### **11. Key Success Factors**

  - **Robust Flexibility:** The rule successfully navigates the conditional paths for *both* competitor analysis and keyword research.
  - **Strategic Alignment:** The final strategy directly supports the goals outlined in the Product Brief.
  - **Actionable Output:** The document provides a clear, prioritized, and themed keyword strategy that directly informs the next step.
  - **Intelligent Tool-Use:** The rule correctly identifies when to use a general-purpose AI versus a specialized SEO tool.